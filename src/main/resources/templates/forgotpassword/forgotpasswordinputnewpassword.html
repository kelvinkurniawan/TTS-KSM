
<html>

    <div th:replace="fragments/header"></div>

    <body>
        <div class="row no-gutters text-center" style="height: 100%">
            <div class="col-md-4 bg-my-color d-flex align-items-center justify-content-center">
                <div class="greeting-section mx-5">
                    <h2 class="mb-3 text-white">Welcome, dude!</h2>
                    <p class="lead text-white">Enter your personal details, and start journey with us</p>
                    <a href="/register" class="btn btn-primary btn-ghost">Register</a>
                </div>
            </div>
            <div class="col-md-8 d-flex align-items-center justify-content-center">
                <div class="form-section">
                    <h1 class="display-4 mb-5" style="width: 100%">Change Password</h1>
                    <div class="col-md-10 offset-md-1">

                        <form th:object="${password}" th:action="@{/forgotpassword/perform_update/} + ${verificationCode}" method="post" class="fpass-form">
                            <div class="form-group">
                                <input type="text" name="email" class="form-control"  placeholder="Email"/>
                            </div>
                            <div class="form-group">
                                <input type="password" name="password" class="form-control" id="password" placeholder="Password" />
                            </div>
                            <div class="form-group">
                                <input type="password" name="confirm-password" class="form-control" id="confirm-password" placeholder="Confirm Password" />
                            </div>
                            <div class="form-group">
                                <button name="submit" type="submit" id="submit" class="btn btn-info bg-my-color btn-block">Change Password</button>
                            </div>
                            <div id="message"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div aria-live="polite" aria-atomic="true">
            <div class="toast bg-danger" style="position: absolute; top: 0; right: 20px;" id="alert" data-delay="5000">
                <div class="toast-header bg-danger text-white">
                    <strong class="mr-auto">Login Error</strong>
                    <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="toast-body bg-danger text-white">
                    Your username or password is wrong
                </div>
            </div>
        </div>

        <div th:replace="fragments/footer"></div>
        <script>

            $('#password, #confirm-password').on('change paste keyup', function () {
                if ($('#password').val() === $('#confirm-password').val()) {
                    $('#message').html('Matching').css('color', 'green');
                    $('#submit').prop('disabled', false);
                } else {
                    $('#message').html('Not Matching').css('color', 'red');
                    $('#submit').prop('disabled', true);
                }
            });

        </script>
    </body>
</html>